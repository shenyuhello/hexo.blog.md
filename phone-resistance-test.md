---
title: 手机耐摔测试
date: 2016-10-14 22:10:59
tags: [智力,数学]
categories: 智力题
---

## 问题描述

某公司生产了一种手机，为了测试手机耐摔性，需要在一栋有100层的大楼上做测试，若将手机从$x-1$层楼摔下没有损坏了，而从$x$层楼摔下损坏了，则称该手机的耐摔性能为$x$。共有两部手机用于测试，若手机从某一楼摔下之后没有损坏，则该手机还可用于下一次测试，若摔坏了，则不能用于下一次测试，问最少需要摔多次才能保证测出手机的耐摔性？

<!--more-->

## 基本思路

大多数人都会想到使用二分法来解决这个问题，使用二分法在手机本身耐摔性较大或较小的时候能够很快找到答案，而在手机本身的耐摔性接近一半的时候，效果很差，最差的情况是当手机的耐摔性刚好是50的时候，所以至少需要50次测试才能保证得到结果。直接解决这道问题是比较复杂的，我们转而去思考另一个问题，如果我有$n$次摔的机会，那么我最多可以测试多少楼？

## 解决方案

设利用$n$次测试可测试的最大楼层数为$f(n)$，也就是说在总的楼层数大于$f(n)$层的情况下，只有$n$次测试是没办法保证可以测出手机的耐摔性的，接下来就是如何求$f(n)$。

假设我们第一次选中测试的楼层的楼层为第$k$层，则$k\le n$（如果$k  \gt n$是不能保证能测出手机耐摔性的）。第一次测试的结果又两种可能，如果手机摔坏了，就用另一部手机从第一层开始测试，最多测到第$k-1$层就得到答案了，所用次数不会超过n次，如果手机没有摔坏，那么耐摔性必定大于$k$,接下来就在$k$层以上继续测试，那么求$f(n)$的问题就转化为求$f(n-1)$，经过以上分析可得

$$
\begin{align}
f(n)&=\max_{1\le k \le n}(k+f(n-1))\\\\
&=n+f(n-1)\\\\
&=\sum_1^nn\\\\
&=\frac{n(n+1)}{2}
\end{align}
$$

设在一栋具有$m$层的大楼上测试，保证获得结果所需要的测试次数至少为$g(m)$，$g(m)$就是我们最终要求的（原问题中我们要求得就是$g(100$)的值)。之前讲过直接求$g(m)$是比较复杂的，但是我们利用$f(n)$的结果来求$g(m)$，设$g(m)=p$,有如下结论

**如果$\exists x\gt0$使得$f(x)\ge m,f(x-1) \lt m$，那么$x=p$.**

证明：

因为$f(x)\ge m$，所以用$x$次测试可以保证在m层的大楼上测出结果。根据假设使用$p$次是最少的，所以$p\le x$。如果$p \lt x$,则$p\le x-1$,因为$f(x)$是递增的，所以$f(p)\le f(x-1)\lt m$，也就是说使用$p$次测试不能在m层楼上得出结果，与原假设矛盾，所以$p=x$.

证毕.

根据以上结论，$f(14)=105\ge 100,f(13)=91\lt 100$，故$g(100)=14$。

## 总结

当一个问题直接求解难以解决的时候，不妨去求与该问题相关的另一个比较容易的问题，借助新问题的结论来求解原问题，但是如何去寻找相关的新问题本身就是比较困难的。